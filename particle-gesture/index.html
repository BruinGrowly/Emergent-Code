<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesture Particle System</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Three.js Canvas -->
    <div id="canvas-container"></div>

    <!-- Camera Feed (small preview) -->
    <div id="camera-preview">
        <video id="video" autoplay playsinline></video>
        <canvas id="hand-canvas"></canvas>
        <div id="gesture-status">
            <span id="hand-status">ğŸ–ï¸ Open hands to expand</span>
        </div>
    </div>

    <!-- Control Panel -->
    <div id="control-panel">
        <h2>âœ¨ Particle Control</h2>

        <!-- Template Selector -->
        <div class="control-group">
            <label>Shape Template</label>
            <div class="template-buttons">
                <button class="template-btn active" data-template="heart" title="Heart">â¤ï¸</button>
                <button class="template-btn" data-template="flower" title="Flower">ğŸŒ¸</button>
                <button class="template-btn" data-template="saturn" title="Saturn">ğŸª</button>
                <button class="template-btn" data-template="firework" title="Firework">ğŸ†</button>
                <button class="template-btn" data-template="spiral" title="Spiral">ğŸŒ€</button>
                <button class="template-btn" data-template="cube" title="Cube">ğŸ“¦</button>
            </div>
        </div>

        <!-- Color Picker -->
        <div class="control-group">
            <label>Particle Color</label>
            <div class="color-row">
                <input type="color" id="color-picker" value="#ff6b9d">
                <div class="preset-colors">
                    <button class="color-preset" data-color="#ff6b9d" style="background: #ff6b9d"></button>
                    <button class="color-preset" data-color="#00d4ff" style="background: #00d4ff"></button>
                    <button class="color-preset" data-color="#ffd700" style="background: #ffd700"></button>
                    <button class="color-preset" data-color="#9d4edd" style="background: #9d4edd"></button>
                    <button class="color-preset" data-color="#00ff88" style="background: #00ff88"></button>
                </div>
            </div>
        </div>

        <!-- Particle Settings -->
        <div class="control-group">
            <label>Particle Count: <span id="count-value">2000</span></label>
            <input type="range" id="particle-count" min="500" max="10000" value="2000" step="100">
        </div>

        <div class="control-group">
            <label>Particle Size: <span id="size-value">3</span></label>
            <input type="range" id="particle-size" min="1" max="10" value="3" step="0.5">
        </div>

        <!-- Gesture Info -->
        <div class="control-group info-box">
            <h3>Gesture Control</h3>
            <p>ğŸ‘ <strong>Open both hands</strong> â†’ Expand particles</p>
            <p>âœŠ <strong>Close both fists</strong> â†’ Contract particles</p>
            <p>â˜ï¸ <strong>One hand</strong> â†’ Rotate view</p>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay">
        <div class="loader"></div>
        <p>Loading hand tracking...</p>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands@0.4.1675469240/hands.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils@0.3.1675466862/camera_utils.min.js"></script>
    <script src="app.js"></script>
</body>

</html>